@import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');

*, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }

:root {
  --bg:       #0f172a;
  --surface:  rgba(255,255,255,0.05);
  --border:   rgba(255,255,255,0.10);
  --text:     #e2e8f0;
  --muted:    #64748b;
  --blue:     #3b82f6;
  --purple:   #a855f7;
  --green:    #10b981;
  --red:      rgba(239,68,68,0.15);
  --red-text: #fca5a5;
}

body {
  font-family: 'Inter', sans-serif;
  background: linear-gradient(135deg, #0f172a 0%, #1e3a5f 50%, #0f172a 100%);
  color: var(--text);
  min-height: 100vh;
  padding: 12px;
}

.app {
  position: relative;
  display: flex;
  flex-direction: column;
  gap: 12px;
  max-width: 100%;
}

.tools-area {
  position: relative;
  display: flex;
  flex-direction: column;
  gap: 12px;
}

.tools-area.is-locked {
  filter: saturate(0.85) brightness(0.9);
}

/* Header */
.header {
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 4px 0 8px;
  border-bottom: 1px solid var(--border);
}
.header-icon { font-size: 20px; }
.header-title { font-size: 16px; font-weight: 700; color: #fff; flex: 1; }
.auto-badge {
  font-size: 10px;
  background: rgba(59,130,246,0.2);
  color: #93c5fd;
  border: 1px solid rgba(59,130,246,0.4);
  border-radius: 9999px;
  padding: 2px 8px;
  animation: pulse 2s infinite;
}
@keyframes pulse { 0%,100% { opacity: 1; } 50% { opacity: .6; } }

.member-badge {
  font-size: 10px;
  border-radius: 9999px;
  padding: 2px 8px;
  border: 1px solid var(--border);
  background: rgba(148,163,184,0.15);
  color: #cbd5e1;
  white-space: nowrap;
}

.member-badge.pro {
  background: rgba(16,185,129,0.18);
  color: #86efac;
  border-color: rgba(16,185,129,0.35);
}

.member-badge.free {
  background: rgba(59,130,246,0.15);
  color: #93c5fd;
  border-color: rgba(59,130,246,0.35);
}

.member-badge.error {
  background: rgba(239,68,68,0.18);
  color: #fca5a5;
  border-color: rgba(239,68,68,0.35);
}

.logout-btn {
  font-size: 10px;
  font-weight: 600;
  padding: 2px 8px;
  border-radius: 8px;
  border: 1px solid rgba(248,113,113,.35);
  color: #fecaca;
  background: rgba(239,68,68,.15);
  cursor: pointer;
  transition: all .15s;
  white-space: nowrap;
}

.logout-btn:disabled {
  opacity: .7;
  cursor: not-allowed;
}

.logout-btn:not(:disabled):hover {
  background: rgba(239,68,68,.25);
}

.upgrade-btn {
  font-size: 10px;
  font-weight: 600;
  padding: 2px 8px;
  border-radius: 8px;
  border: 1px solid rgba(168,85,247,.35);
  color: #ddd6fe;
  background: rgba(124,58,237,.18);
  cursor: pointer;
  transition: all .15s;
  white-space: nowrap;
}

.upgrade-btn:hover {
  background: rgba(124,58,237,.28);
}

/* Section */
.section {
  background: var(--surface);
  border: 1px solid var(--border);
  border-radius: 16px;
  padding: 12px;
  display: flex;
  flex-direction: column;
  gap: 8px;
}

/* Label Row */
.label-row {
  display: flex;
  align-items: center;
  gap: 6px;
  flex-wrap: nowrap;
}
.label-text { font-size: 12px; font-weight: 600; color: #94a3b8; flex: 1; min-width: 0; }

/* Badges */
.badge {
  width: 18px; height: 18px; border-radius: 50%;
  font-size: 10px; font-weight: 700; color: #fff;
  display: flex; align-items: center; justify-content: center;
  flex-shrink: 0;
}
.badge-blue   { background: var(--blue); }
.badge-purple { background: var(--purple); }
.badge-green  { background: var(--green); }

/* Table Tag */
.table-tag {
  font-size: 10px;
  background: rgba(59,130,246,0.2);
  color: #93c5fd;
  border: 1px solid rgba(59,130,246,0.3);
  border-radius: 9999px;
  padding: 1px 6px;
}

/* Clear Button */
.clear-btn {
  font-size: 10px; font-weight: 600;
  padding: 2px 8px; border-radius: 8px;
  border: 1px solid rgba(239,68,68,0.25);
  color: var(--red-text);
  background: var(--red);
  cursor: pointer;
  transition: all .15s;
  flex-shrink: 0;
  white-space: nowrap;
}
.clear-btn:disabled { opacity: .3; cursor: not-allowed; }
.clear-btn:not(:disabled):hover { background: rgba(239,68,68,0.25); }

/* Editable Box 1 */
.editable-box {
  min-height: 90px;
  background: rgba(255,255,255,0.04);
  border: 1px solid var(--border);
  border-radius: 12px;
  padding: 10px 12px;
  font-size: 12px;
  line-height: 1.6;
  color: var(--text);
  outline: none;
  transition: border-color .2s, box-shadow .2s;
}
.editable-box:focus { border-color: rgba(59,130,246,.5); box-shadow: 0 0 0 2px rgba(59,130,246,.15); }
.editable-box:empty::before {
  content: attr(data-placeholder);
  color: var(--muted);
  pointer-events: none;
}

/* LaTeX Textarea */
.latex-box {
  width: 100%;
  min-height: 90px;
  background: rgba(255,255,255,0.04);
  border: 1px solid var(--border);
  border-radius: 12px;
  padding: 10px 12px;
  font-size: 12px;
  font-family: 'Courier New', monospace;
  color: var(--text);
  resize: vertical;
  outline: none;
  transition: border-color .2s, box-shadow .2s;
}
.latex-box:focus { border-color: rgba(168,85,247,.5); box-shadow: 0 0 0 2px rgba(168,85,247,.15); }
.latex-box::placeholder { color: var(--muted); }

/* Convert Button */
.convert-btn {
  width: 100%; padding: 9px;
  border-radius: 12px; border: 1px solid rgba(59,130,246,.25);
  font-size: 12px; font-weight: 700;
  color: #93c5fd;
  background: rgba(59,130,246,.12);
  cursor: pointer;
  transition: all .2s;
}
.convert-btn:disabled { opacity: .3; cursor: not-allowed; }
.convert-btn:not(:disabled):hover { background: rgba(59,130,246,.22); }
.convert-btn.success { background: #10b981; color: #fff; border-color: transparent; }

/* Render Button */
.render-btn {
  width: 100%; padding: 12px;
  border-radius: 14px; border: none;
  font-size: 13px; font-weight: 700;
  color: #fff;
  background: linear-gradient(135deg, #7c3aed, #2563eb);
  cursor: pointer;
  box-shadow: 0 4px 15px rgba(124,58,237,.3);
  transition: all .2s;
}
.render-btn:disabled { background: rgba(255,255,255,.07); color: var(--muted); box-shadow: none; cursor: not-allowed; }
.render-btn:not(:disabled):hover { opacity: .9; transform: scale(1.005); }

/* Divider */
.divider { display: flex; align-items: center; gap: 8px; }
.divider-line { flex: 1; height: 1px; background: var(--border); }
.divider-text { font-size: 10px; color: var(--muted); }

/* Result Box */
.result-box {
  background: rgba(255,255,255,0.04);
  border: 1px solid var(--border);
  border-radius: 12px;
  padding: 12px;
  min-height: 60px;
  color: var(--text);
  font-size: 13px;
  line-height: 1.7;
  overflow-x: auto;
}

/* Copy Result Button */
.copy-result-btn {
  font-size: 10px; font-weight: 600;
  padding: 2px 8px; border-radius: 8px;
  border: 1px solid rgba(245,158,11,.25);
  color: #fcd34d;
  background: rgba(245,158,11,.12);
  cursor: pointer;
  transition: all .15s;
  flex-shrink: 0;
}
.copy-result-btn:hover { background: rgba(245,158,11,.22); }
.copy-result-btn.success { background: #10b981; color: #fff; border-color: transparent; }

/* Footer */
.footer { text-align: center; font-size: 10px; color: var(--muted); padding-top: 4px; }

.auth-guard {
  position: absolute;
  inset: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  background: rgba(15, 23, 42, 0.72);
  border: 1px solid var(--border);
  border-radius: 16px;
  backdrop-filter: blur(6px);
  z-index: 25;
}

.auth-guard[hidden] {
  display: none;
}

.auth-guard-card {
  width: calc(100% - 28px);
  background: rgba(15, 23, 42, 0.82);
  border: 1px solid var(--border);
  border-radius: 16px;
  padding: 16px;
  text-align: center;
}

.auth-guard-title {
  font-size: 14px;
  font-weight: 700;
  color: #fff;
  margin-bottom: 8px;
}

.auth-guard-message {
  font-size: 12px;
  line-height: 1.6;
  color: #cbd5e1;
}

.auth-guard-meta {
  margin-top: 8px;
  font-size: 11px;
  line-height: 1.6;
  color: #93c5fd;
}

.auth-guard-actions {
  display: flex;
  justify-content: center;
  gap: 8px;
  margin-top: 12px;
}

.auth-guard-btn {
  font-size: 12px;
  font-weight: 700;
  padding: 9px 14px;
  border-radius: 12px;
  border: 1px solid rgba(59,130,246,.4);
  color: #bfdbfe;
  background: rgba(59,130,246,.18);
  cursor: pointer;
  transition: all .2s;
}

.auth-guard-btn:hover {
  background: rgba(59,130,246,.28);
}

.auth-guard-btn-secondary {
  font-size: 12px;
  font-weight: 700;
  padding: 9px 14px;
  border-radius: 12px;
  border: 1px solid rgba(148,163,184,.35);
  color: #cbd5e1;
  background: rgba(148,163,184,.18);
  cursor: pointer;
  transition: all .2s;
}

.auth-guard-btn-secondary:hover {
  background: rgba(148,163,184,.28);
}

/* KaTeX display overrides */
.katex-display { overflow-x: auto; margin: 0.4em 0; }
.katex { font-size: 1.05em; }

/* Table from Word */
table { border-collapse: collapse; width: 100%; margin: 6px 0; }
td, th { border: 1px solid rgba(255,255,255,.15); padding: 4px 8px; font-size: 12px; }
